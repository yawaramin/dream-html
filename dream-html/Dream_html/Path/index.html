<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Path (dream-html.Dream_html.Path)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">dream-html</a> &#x00BB; <a href="../index.html">Dream_html</a> &#x00BB; Path</nav><header class="odoc-preamble"><h1>Module <code><span>Dream_html.Path</span></code></h1><p>Bidirectional paths with type-safe path segment parsing and printing using OCaml's built-in format strings, and fully plug-and-play compatible with Dream routes. Refer to <a href="#val-make" title="Path.make">Path.make</a> for the syntax of the route strings.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> v3.9.0</li></ul></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>(_, _) t</span></span></code></div><div class="spec-doc"><p>This contains the path formats that are used to parse and print the routes.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : 
  <span><span><span>(<span class="type-var">'r</span>, unit, <span><span class="xref-unresolved">Dream</span>.response <span class="xref-unresolved">Dream</span>.promise</span>)</span> <span class="xref-unresolved">Stdlib</span>.format</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'p</span>, unit, string, <a href="../index.html#type-attr">attr</a>)</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'r</span>, <span class="type-var">'p</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>make request_fmt attr_fmt</code> is a route path. The <code>dream-html.ppx</code> provides a more convenient way.</p><p>Without PPX: <code>let order = Path.make &quot;/orders/%s&quot; &quot;/orders/%s&quot;</code></p><p>With PPX: <code>let order = [%path &quot;/orders/%s&quot;]</code></p><p>Refer to <a href="../../Ppx/index.html" title="Ppx">the PPX documentation</a> for instructions on using it.</p><p>Due to the way Dream's router works, all parameter captures happens between <code>/</code> characters and the end of the path. Eg, <code>/foo/%s/bar/%d</code> is valid, but <code>/foo/%s.%s</code> (note the dot character) is not a valid capture.</p><p>The following type conversion specs are supported:</p><p><code>%s</code> capture a <code>string</code> and pass it to the handler</p><p><code>%*s</code> capture the rest of the path and pass the captured length and string to the handler</p><p><code>%c</code> capture a <code>char</code></p><p><code>%d</code> or <code>%i</code> capture an <code>int</code></p><p><code>%x</code> capture a hexadecimal <code>int</code></p><p><code>%X</code> capture an uppercase hexadecimal <code>int</code></p><p><code>%o</code> capture an octal <code>int</code></p><p><code>%ld</code> capture an <code>int32</code></p><p><code>%Ld</code> capture an <code>int64</code></p><p><code>%f</code> capture a <code>float</code></p><p><code>%B</code> capture a <code>bool</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Fmt</span>.t</span></span></code></div><div class="spec-doc"><p><code>pp</code> is a pretty-printer for path values. For a path like <code>Path.make &quot;/foo&quot;, &quot;/foo&quot;</code>, it will print out <code>/foo</code>.</p></div></div></div></body></html>
