<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Pure_html (pure-html.Pure_html)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">pure-html</a> &#x00BB; Pure_html</nav><header class="odoc-preamble"><h1>Module <code><span>Pure_html</span></code></h1><p>Use this module for constructing HTML without any dependency on the Dream web framework.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 3.5.0.</li></ul></header><nav class="odoc-toc"><ul><li><a href="#core-types">Core types</a></li><li><a href="#output">Output</a></li><li><a href="#constructing-nodes-and-attributes">Constructing nodes and attributes</a></li><li><a href="#accessors-for-tags">Accessors for tags</a></li><li><a href="#standard-attributes-and-tags">Standard attributes and tags</a></li><li><a href="#aria-support">ARIA support</a></li><li><a href="#htmx-support">htmx support</a></li></ul></nav><div class="odoc-content"><h3 id="core-types"><a href="#core-types" class="anchor"></a>Core types</h3><p>These are the types of the final values which get rendered.</p><div class="odoc-spec"><div class="spec type anchored" id="type-attr"><a href="#type-attr" class="anchor"></a><code><span><span class="keyword">type</span> attr</span></code></div><div class="spec-doc"><p>E.g. <code>id=&quot;toast&quot;</code>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-node"><a href="#type-node" class="anchor"></a><code><span><span class="keyword">type</span> node</span></code></div><div class="spec-doc"><p>Either a tag, a comment, or text data in the markup.</p></div></div><h3 id="output"><a href="#output" class="anchor"></a>Output</h3><div class="odoc-spec"><div class="spec value anchored" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_xml"><a href="#val-to_xml" class="anchor"></a><code><span><span class="keyword">val</span> to_xml : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Same as <code>to_string</code> but render void tags as XML-style self-closing tags.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 3.3.0.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_xml"><a href="#val-pp_xml" class="anchor"></a><code><span><span class="keyword">val</span> pp_xml : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <code>pp</code> but render void tags as XML-style self-closing tags.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 3.3.0.</li></ul></div></div><h3 id="constructing-nodes-and-attributes"><a href="#constructing-nodes-and-attributes" class="anchor"></a>Constructing nodes and attributes</h3><div class="odoc-spec"><div class="spec type anchored" id="type-to_attr"><a href="#type-to_attr" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a to_attr</span></span><span> = <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-attr">attr</a></span></code></div><div class="spec-doc"><p>Attributes can be created from typed values.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-string_attr"><a href="#type-string_attr" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a string_attr</span></span><span> = <span><span><span>(<span class="type-var">'a</span>, unit, string, <a href="#type-attr">attr</a>)</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Special handling for string-value attributes so they can use format strings i.e. string interpolation.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-std_tag"><a href="#type-std_tag" class="anchor"></a><code><span><span class="keyword">type</span> std_tag</span><span> = <span><span><a href="#type-attr">attr</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-node">node</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-node">node</a></span></code></div><div class="spec-doc"><p>A 'standard' tag with attributes and children.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-void_tag"><a href="#type-void_tag" class="anchor"></a><code><span><span class="keyword">type</span> void_tag</span><span> = <span><span><a href="#type-attr">attr</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-node">node</a></span></code></div><div class="spec-doc"><p>A 'void element': <a href="https://developer.mozilla.org/en-US/docs/Glossary/Void_element">https://developer.mozilla.org/en-US/docs/Glossary/Void_element</a> with no children.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-text_tag"><a href="#type-text_tag" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a text_tag</span></span><span> = <span><span><a href="#type-attr">attr</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, unit, string, <a href="#type-node">node</a>)</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Tags which can have attributes but can contain only text. The text can be formatted.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-attr"><a href="#val-attr" class="anchor"></a><code><span><span class="keyword">val</span> attr : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-attr">attr</a></span></code></div><div class="spec-doc"><p><code>attr name</code> is a new attribute which does not carry any payload. E.g.</p><pre class="language-ocaml"><code>let required = attr &quot;required&quot;</code></pre><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.1.0.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_attr"><a href="#val-string_attr" class="anchor"></a><code><span><span class="keyword">val</span> string_attr : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="optlabel">?raw</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-string_attr">string_attr</a></span></span></code></div><div class="spec-doc"><p><code>string_attr name fmt</code> is a new string-valued attribute which allows formatting i.e. string interpolation of the value. Note, the <code>fmt</code> argument is required due to the value restriction.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">raw</span> <p>(default <code>false</code>) whether to inject the raw text or to escape it. Note that Dream does not support escaping inline JavaScript nor CSS, so neither does dream-html: <a href="https://github.com/aantron/dream/tree/master/example/7-template#security">https://github.com/aantron/dream/tree/master/example/7-template#security</a>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-uri_attr"><a href="#val-uri_attr" class="anchor"></a><code><span><span class="keyword">val</span> uri_attr : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-string_attr">string_attr</a></span></span></code></div><div class="spec-doc"><p>Convenience for attributes whose values should be URIs. Takes care of both URI-encoding and attribute escaping, as recommended in <a href="https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html#common-mistake">https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html#common-mistake</a>.</p><p>Examples</p><pre class="language-ocaml"><code>a [href &quot;/blog?tags=iamsafe\&quot;&gt;&lt;/a&gt;&lt;script&gt;alert('Pwned')&lt;/script&gt;&quot;] [txt &quot;Tags: tag1 | tag2&quot;]
==&gt;
&lt;a href=&quot;/blog?tags=iamsafe%22%3E%3C/a%3E%3Cscript%3Ealert('Pwned')%3C/script%3E&quot;&gt;Tags: tag1 | tag2&lt;/a&gt;

a [href &quot;/foo?a=1&amp;b=2 3&amp;c=4&lt;5&amp;d=6&gt;5&quot;] [txt &quot;Test&quot;]
==&gt;
&lt;a href=&quot;/foo?a=1&amp;amp;b=2%203&amp;amp;c=4%3C5&amp;amp;d=6%3E5&quot;&gt;Test&lt;/a&gt;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bool_attr"><a href="#val-bool_attr" class="anchor"></a><code><span><span class="keyword">val</span> bool_attr : <span>string <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-to_attr">to_attr</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-float_attr"><a href="#val-float_attr" class="anchor"></a><code><span><span class="keyword">val</span> float_attr : <span>string <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-to_attr">to_attr</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int_attr"><a href="#val-int_attr" class="anchor"></a><code><span><span class="keyword">val</span> int_attr : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <a href="#type-to_attr">to_attr</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-std_tag"><a href="#val-std_tag" class="anchor"></a><code><span><span class="keyword">val</span> std_tag : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-std_tag">std_tag</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-void_tag"><a href="#val-void_tag" class="anchor"></a><code><span><span class="keyword">val</span> void_tag : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-void_tag">void_tag</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-text_tag"><a href="#val-text_tag" class="anchor"></a><code><span><span class="keyword">val</span> text_tag : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="optlabel">?raw</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-text_tag">text_tag</a></span></span></code></div><div class="spec-doc"><p>Build a tag which can contain only text.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">raw</span> <p>(default <code>false</code>) whether to inject the raw text or to escape it. Note that Dream does not support escaping inline JavaScript nor CSS, so neither does dream-html: <a href="https://github.com/aantron/dream/tree/master/example/7-template#security">https://github.com/aantron/dream/tree/master/example/7-template#security</a>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-txt"><a href="#val-txt" class="anchor"></a><code><span><span class="keyword">val</span> txt : <span><span class="optlabel">?raw</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, unit, string, <a href="#type-node">node</a>)</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>A text node inside the DOM e.g. the 'hi' in <code>&lt;b&gt;hi&lt;/b&gt;</code>. Allows string interpolation using the same formatting features as <code>Printf.sprintf</code>:</p><pre class="language-ocaml"><code>b [] [txt &quot;Hello, %s!&quot; name]</code></pre><p>Or without interpolation:</p><pre class="language-ocaml"><code>b [] [txt &quot;Bold of you.&quot;]</code></pre><p>HTML-escapes the text value. You can use the <code>~raw</code> param to bypass escaping:</p><pre class="language-ocaml"><code>let user_input = &quot;&lt;script&gt;alert('I like HTML injection')&lt;/script&gt;&quot; in
txt ~raw:true &quot;%s&quot; user_input</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-comment"><a href="#val-comment" class="anchor"></a><code><span><span class="keyword">val</span> comment : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-node">node</a></span></code></div><div class="spec-doc"><p>A comment that will be embedded in the rendered HTML, i.e. <code>&lt;!-- comment --&gt;</code>. The text is HTML-escaped.</p></div></div><h3 id="accessors-for-tags"><a href="#accessors-for-tags" class="anchor"></a>Accessors for tags</h3><div class="odoc-spec"><div class="spec value anchored" id="val-(+@)"><a href="#val-(+@)" class="anchor"></a><code><span><span class="keyword">val</span> (+@) : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-attr">attr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-node">node</a></span></code></div><div class="spec-doc"><p>Add an attribute to a tag.</p><pre class="language-ocaml"><code>let toast msg = p [id &quot;toast&quot;] [txt &quot;%s&quot; msg]
let toast_oob = toast &quot;ok.&quot; +@ Hx.swap_oob &quot;true&quot;</code></pre><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Invalid_argument</code> <p>if the node is not a tag (i.e. if it is a text or comment node).</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.0.3.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(-@)"><a href="#val-(-@)" class="anchor"></a><code><span><span class="keyword">val</span> (-@) : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-node">node</a></span></code></div><div class="spec-doc"><p>Remove an attribute from a tag.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Invalid_argument</code> <p>if the node is not a tag (i.e. if it is a text or comment node).</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.0.3.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(.@[])"><a href="#val-(.@[])" class="anchor"></a><code><span><span class="keyword">val</span> (.@[]) : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Get the value of an existing attribute.</p><pre class="language-ocaml"><code>let toast = p [id &quot;toast&quot;] [txt &quot;OK.&quot;]
let toast_id = toast.@[&quot;id&quot;]</code></pre><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Invalid_argument</code> <p>if the node is not a tag (i.e. if it is a text or comment node).</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Not_found</code> <p>if the tag does not have the given attribute.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.0.3.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_null"><a href="#val-is_null" class="anchor"></a><code><span><span class="keyword">val</span> is_null : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Get whether a node is null (empty) or not. Useful for conditional rendering of UIs when you are passed in a node and you don't know if it's empty or not.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 1.2.0.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_null_"><a href="#val-is_null_" class="anchor"></a><code><span><span class="keyword">val</span> is_null_ : <span><a href="#type-attr">attr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Get whether an attribute is null (empty) or not.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 1.2.0.</li></ul></div></div><h3 id="standard-attributes-and-tags"><a href="#standard-attributes-and-tags" class="anchor"></a>Standard attributes and tags</h3><div class="odoc-spec"><div class="spec module anchored" id="module-HTML"><a href="#module-HTML" class="anchor"></a><code><span><span class="keyword">module</span> <a href="HTML/index.html">HTML</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>All standard HTML attributes and tags. Some attributes and tags have the same name, e.g. <code>style</code>. To disambiguate them, attributes have a <code>_</code> (underscore) suffix.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-SVG"><a href="#module-SVG" class="anchor"></a><code><span><span class="keyword">module</span> <a href="SVG/index.html">SVG</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-MathML"><a href="#module-MathML" class="anchor"></a><code><span><span class="keyword">module</span> <a href="MathML/index.html">MathML</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h3 id="aria-support"><a href="#aria-support" class="anchor"></a>ARIA support</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Aria"><a href="#module-Aria" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Aria/index.html">Aria</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/">https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/</a></p></div></div><h3 id="htmx-support"><a href="#htmx-support" class="anchor"></a>htmx support</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Hx"><a href="#module-Hx" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Hx/index.html">Hx</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>htmx support <a href="https://htmx.org/reference/">https://htmx.org/reference/</a></p></div></div></div></body></html>
